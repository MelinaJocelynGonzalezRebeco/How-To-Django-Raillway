{% extends 'base.html' %}
{% block content %}
<h1 class="h4 mb-3">Importar contactos desde CSV</h1>
<div class="card">
  <div class="card-body">
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="row g-3">
        <div class="col-md-6">
          <label class="form-label">Archivo CSV</label>
          {{ form.csv_file }}
          <div class="form-text">Columnas: <code>name,email,phone,address,tags,photo_url</code>. Ejemplo en <code>sample_data/contacts_sample.csv</code></div>
        </div>
        <div class="col-md-3">
          <label class="form-label">Delimitador</label>
          {{ form.delimiter }}
        </div>
        <div class="col-md-3 d-flex align-items-end">
          <div class="form-check">
            {{ form.update_existing }} <label class="form-check-label">Actualizar si ya existe (email)</label>
          </div>
        </div>
      </div>
      <div class="mt-3 d-flex gap-2">
        <button class="btn btn-success" type="submit">Importar</button>
        <a class="btn btn-outline-secondary" href="{% url 'contacts:list' %}">Volver</a>
      </div>
    </form>
  </div>
</div>
<pre class="mt-3 text-muted">name,email,phone,address,tags,photo_url
Juan Pérez,juan@example.com,+56911111111,Santiago,"Cliente;VIP",https://example.com/juan.jpg
Ana López,ana@example.com,+56922222222,Valparaíso,Proveedor,</pre>
{% endblock %}
